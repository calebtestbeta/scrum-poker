<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>GitHub Pages è·¯å¾‘æ¸¬è©¦</title>
    <style>
        body { 
            font-family: monospace; 
            padding: 20px; 
            background: #f5f5f5; 
        }
        .test-result { 
            margin: 10px 0; 
            padding: 10px; 
            background: white; 
            border: 1px solid #ddd; 
            border-radius: 4px; 
        }
        .success { border-left: 4px solid #4CAF50; }
        .info { border-left: 4px solid #2196F3; }
    </style>
</head>
<body>
    <h1>ğŸ” GitHub Pages è·¯å¾‘é‡å®šå‘æ¸¬è©¦</h1>
    
    <div id="results"></div>
    
    <script>
        function runPathTests() {
            const results = document.getElementById('results');
            
            // æ¨¡æ“¬ä¸åŒçš„ URL ç’°å¢ƒ
            const testCases = [
                {
                    name: 'GitHub Pages ç’°å¢ƒ',
                    pathname: '/scrum-poker/public/redirect.html',
                    origin: 'https://calebtestbeta.github.io',
                    expected: 'https://calebtestbeta.github.io/scrum-poker/public/desktop/'
                },
                {
                    name: 'æœ¬åœ°é–‹ç™¼ç’°å¢ƒ',
                    pathname: '/public/redirect.html',
                    origin: 'http://localhost:8080',
                    expected: 'http://localhost:8080/public/desktop/'
                },
                {
                    name: 'æ ¹ç›®éŒ„éƒ¨ç½²',
                    pathname: '/public/redirect.html',
                    origin: 'https://example.com',
                    expected: 'https://example.com/public/desktop/'
                }
            ];
            
            testCases.forEach(testCase => {
                // æ¨¡æ“¬ä¿®å¾©å¾Œçš„é‚è¼¯
                const currentPath = testCase.pathname;
                const basePath = currentPath.includes('/scrum-poker/') ? '/scrum-poker' : '';
                const targetPath = '/desktop/'; // å‡è¨­é¸æ“‡æ¡Œé¢ç‰ˆ
                const actualUrl = `${testCase.origin}${basePath}/public${targetPath}`;
                
                const isCorrect = actualUrl === testCase.expected;
                
                results.innerHTML += `
                    <div class="test-result ${isCorrect ? 'success' : 'error'}">
                        <strong>${testCase.name}</strong><br>
                        è¼¸å…¥è·¯å¾‘: ${testCase.pathname}<br>
                        ä¾†æºç¶²åŸŸ: ${testCase.origin}<br>
                        è¨ˆç®—åŸºç¤è·¯å¾‘: ${basePath || '(ç„¡)'}<br>
                        ç”Ÿæˆ URL: ${actualUrl}<br>
                        é æœŸ URL: ${testCase.expected}<br>
                        çµæœ: ${isCorrect ? 'âœ… é€šé' : 'âŒ å¤±æ•—'}
                    </div>
                `;
            });
            
            // é¡¯ç¤ºç•¶å‰ç’°å¢ƒè³‡è¨Š
            results.innerHTML += `
                <div class="test-result info">
                    <strong>ç•¶å‰ç’°å¢ƒè³‡è¨Š</strong><br>
                    ç•¶å‰è·¯å¾‘: ${window.location.pathname}<br>
                    ç•¶å‰ä¾†æº: ${window.location.origin}<br>
                    ç•¶å‰å®Œæ•´ URL: ${window.location.href}<br>
                    æª¢æ¸¬åŸºç¤è·¯å¾‘: ${window.location.pathname.includes('/scrum-poker/') ? '/scrum-poker' : '(ç„¡)'}
                </div>
            `;
        }
        
        // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œæ¸¬è©¦
        document.addEventListener('DOMContentLoaded', runPathTests);
    </script>
</body>
</html>