<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·¨ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦ - Scrum Poker</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
            line-height: 1.6;
        }
        
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .browser-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .browser-card {
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #ddd;
            text-align: center;
        }
        
        .browser-supported { border-color: #28a745; background: #d4edda; }
        .browser-partial { border-color: #ffc107; background: #fff3cd; }
        .browser-unsupported { border-color: #dc3545; background: #f8d7da; }
        
        .feature-test {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 10px;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .feature-test:last-child {
            border-bottom: none;
        }
        
        .feature-name {
            font-weight: 500;
        }
        
        .feature-status {
            text-align: center;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .supported { background: #d4edda; color: #155724; }
        .partial { background: #fff3cd; color: #856404; }
        .unsupported { background: #f8d7da; color: #721c24; }
        
        .fallback-info {
            font-size: 12px;
            color: #666;
            font-style: italic;
        }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 16px;
        }
        
        button:hover { background: #0056b3; }
        
        .test-section {
            margin: 30px 0;
        }
        
        .version-matrix {
            overflow-x: auto;
        }
        
        .version-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .version-table th,
        .version-table td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: center;
        }
        
        .version-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        
        .polyfill-section {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 14px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>ğŸŒ Scrum Poker è·¨ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦</h1>
    
    <!-- ç•¶å‰ç€è¦½å™¨è³‡è¨Š -->
    <div class="test-container">
        <h2>ğŸ“± ç•¶å‰ç€è¦½å™¨è³‡è¨Š</h2>
        <div class="browser-info" id="currentBrowserInfo">
            <!-- å‹•æ…‹ç”Ÿæˆ -->
        </div>
        <button onclick="detectBrowser()">ğŸ” æª¢æ¸¬ç€è¦½å™¨</button>
        <button onclick="runCompatibilityTests()">ğŸ§ª é–‹å§‹ç›¸å®¹æ€§æ¸¬è©¦</button>
    </div>
    
    <!-- æ”¯æ´çš„ç€è¦½å™¨ç‰ˆæœ¬ -->
    <div class="test-container">
        <h2>âœ… æ”¯æ´çš„ç€è¦½å™¨ç‰ˆæœ¬</h2>
        <div class="version-matrix">
            <table class="version-table">
                <thead>
                    <tr>
                        <th>ç€è¦½å™¨</th>
                        <th>æœ€ä½ç‰ˆæœ¬</th>
                        <th>å»ºè­°ç‰ˆæœ¬</th>
                        <th>æ”¯æ´ç‹€æ…‹</th>
                        <th>å‚™è¨»</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Chrome</strong></td>
                        <td>88+</td>
                        <td>118+</td>
                        <td class="supported">å®Œå…¨æ”¯æ´</td>
                        <td>æœ€ä½³é«”é©—</td>
                    </tr>
                    <tr>
                        <td><strong>Firefox</strong></td>
                        <td>85+</td>
                        <td>119+</td>
                        <td class="supported">å®Œå…¨æ”¯æ´</td>
                        <td>è‰¯å¥½é«”é©—</td>
                    </tr>
                    <tr>
                        <td><strong>Safari</strong></td>
                        <td>14+</td>
                        <td>17+</td>
                        <td class="partial">éƒ¨åˆ†æ”¯æ´</td>
                        <td>éœ€è¦ Polyfill</td>
                    </tr>
                    <tr>
                        <td><strong>Edge</strong></td>
                        <td>88+</td>
                        <td>118+</td>
                        <td class="supported">å®Œå…¨æ”¯æ´</td>
                        <td>è‰¯å¥½é«”é©—</td>
                    </tr>
                    <tr>
                        <td><strong>Opera</strong></td>
                        <td>74+</td>
                        <td>104+</td>
                        <td class="supported">å®Œå…¨æ”¯æ´</td>
                        <td>è‰¯å¥½é«”é©—</td>
                    </tr>
                    <tr>
                        <td><strong>iOS Safari</strong></td>
                        <td>14+</td>
                        <td>17+</td>
                        <td class="partial">éƒ¨åˆ†æ”¯æ´</td>
                        <td>è§¸æ§å„ªåŒ–</td>
                    </tr>
                    <tr>
                        <td><strong>Android Chrome</strong></td>
                        <td>88+</td>
                        <td>118+</td>
                        <td class="supported">å®Œå…¨æ”¯æ´</td>
                        <td>è§¸æ§å„ªåŒ–</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- åŠŸèƒ½ç›¸å®¹æ€§æ¸¬è©¦ -->
    <div class="test-container">
        <h2>ğŸ”§ åŠŸèƒ½ç›¸å®¹æ€§æ¸¬è©¦</h2>
        <div id="featureTests">
            <!-- å‹•æ…‹ç”Ÿæˆ -->
        </div>
    </div>
    
    <!-- CSS åŠŸèƒ½æ¸¬è©¦ -->
    <div class="test-container">
        <h2>ğŸ¨ CSS åŠŸèƒ½æ¸¬è©¦</h2>
        <div id="cssTests">
            <!-- å‹•æ…‹ç”Ÿæˆ -->
        </div>
    </div>
    
    <!-- JavaScript API æ¸¬è©¦ -->
    <div class="test-container">
        <h2>âš¡ JavaScript API æ¸¬è©¦</h2>
        <div id="jsApiTests">
            <!-- å‹•æ…‹ç”Ÿæˆ -->
        </div>
    </div>
    
    <!-- Polyfill å’Œé™ç´šæ–¹æ¡ˆ -->
    <div class="test-container">
        <h2>ğŸ”§ Polyfill å’Œé™ç´šæ–¹æ¡ˆ</h2>
        
        <div class="polyfill-section">
            <h3>å¿…è¦çš„ Polyfill</h3>
            <div class="code-block">
                <!-- CSS Custom Properties Polyfill for IE -->
                &lt;script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"&gt;&lt;/script&gt;
                
                <!-- Intersection Observer Polyfill -->
                &lt;script src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver"&gt;&lt;/script&gt;
                
                <!-- Web Components Polyfill -->
                &lt;script src="https://unpkg.com/@webcomponents/webcomponentsjs@^2/webcomponents-loader.js"&gt;&lt;/script&gt;
            </div>
        </div>
        
        <div class="polyfill-section">
            <h3>é™ç´šç­–ç•¥</h3>
            <ul>
                <li><strong>CSS Grid:</strong> è‡ªå‹•é™ç´šç‚º Flexbox ä½ˆå±€</li>
                <li><strong>CSS Variables:</strong> ä½¿ç”¨ Sass è®Šæ•¸ä½œç‚ºå‚™æ´</li>
                <li><strong>Backdrop Filter:</strong> é™ç´šç‚ºåŠé€æ˜èƒŒæ™¯</li>
                <li><strong>Intersection Observer:</strong> ä½¿ç”¨ scroll äº‹ä»¶æ›¿ä»£</li>
                <li><strong>Service Worker:</strong> åŠŸèƒ½æª¢æ¸¬å¾Œé¸æ“‡æ€§å•Ÿç”¨</li>
            </ul>
        </div>
    </div>
    
    <!-- å·²çŸ¥å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ -->
    <div class="test-container">
        <h2>âš ï¸ å·²çŸ¥å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ</h2>
        
        <div class="test-section">
            <h3>Safari ç‰¹å®šå•é¡Œ</h3>
            <ul>
                <li><strong>å•é¡Œ:</strong> CSS backdrop-filter æ”¯æ´æœ‰é™</li>
                <li><strong>è§£æ±ºæ–¹æ¡ˆ:</strong> ä½¿ç”¨ @supports æª¢æ¸¬ï¼Œæä¾›é™ç´šæ¨£å¼</li>
                <li><strong>ç¨‹å¼ç¢¼:</strong>
                    <div class="code-block">
                        @supports (backdrop-filter: blur(10px)) {
                            .glass-effect { backdrop-filter: blur(10px); }
                        }
                        
                        @supports not (backdrop-filter: blur(10px)) {
                            .glass-effect { background: rgba(255,255,255,0.8); }
                        }
                    </div>
                </li>
            </ul>
            
            <ul>
                <li><strong>å•é¡Œ:</strong> è§¸æ§äº‹ä»¶è™•ç†å·®ç•°</li>
                <li><strong>è§£æ±ºæ–¹æ¡ˆ:</strong> ä½¿ç”¨çµ±ä¸€çš„è§¸æ§ç®¡ç†å™¨</li>
                <li><strong>ç¨‹å¼ç¢¼:</strong>
                    <div class="code-block">
                        // TouchManager è‡ªå‹•æª¢æ¸¬ä¸¦æ¨™æº–åŒ–è§¸æ§äº‹ä»¶
                        if ('ontouchstart' in window) {
                            // è§¸æ§è£ç½®
                            element.addEventListener('touchstart', handler, { passive: true });
                        } else {
                            // æ»‘é¼ è£ç½®
                            element.addEventListener('mousedown', handler);
                        }
                    </div>
                </li>
            </ul>
        </div>
        
        <div class="test-section">
            <h3>IE11 ç›¸å®¹æ€§ï¼ˆå·²ä¸æ”¯æ´ï¼‰</h3>
            <p class="fallback-info">
                æœ¬æ‡‰ç”¨å·²åœæ­¢æ”¯æ´ Internet Explorer 11ã€‚
                å¦‚éœ€æ”¯æ´èˆŠç‰ˆç€è¦½å™¨ï¼Œå»ºè­°ä½¿ç”¨è€…å‡ç´šåˆ°ç¾ä»£ç€è¦½å™¨ã€‚
            </p>
        </div>
    </div>
    
    <!-- æ¸¬è©¦çµæœ -->
    <div class="test-container">
        <h2>ğŸ“Š æ¸¬è©¦çµæœ</h2>
        <div id="testResults">
            <p>é»æ“Šã€Œé–‹å§‹ç›¸å®¹æ€§æ¸¬è©¦ã€æŸ¥çœ‹è©³ç´°çµæœ</p>
        </div>
    </div>

    <script>
        class BrowserCompatibilityTester {
            constructor() {
                this.testResults = {};
                this.browserInfo = {};
            }
            
            // æª¢æ¸¬ç€è¦½å™¨
            detectBrowser() {
                const ua = navigator.userAgent;
                const browserInfo = {
                    name: 'Unknown',
                    version: 'Unknown',
                    engine: 'Unknown',
                    platform: navigator.platform,
                    language: navigator.language,
                    cookieEnabled: navigator.cookieEnabled,
                    onLine: navigator.onLine,
                    javaEnabled: navigator.javaEnabled ? navigator.javaEnabled() : false
                };
                
                // æª¢æ¸¬ç€è¦½å™¨é¡å‹å’Œç‰ˆæœ¬
                if (ua.includes('Chrome') && !ua.includes('Edge') && !ua.includes('OPR')) {
                    browserInfo.name = 'Chrome';
                    browserInfo.version = ua.match(/Chrome\/([0-9.]+)/)?.[1] || 'Unknown';
                    browserInfo.engine = 'Blink';
                } else if (ua.includes('Firefox')) {
                    browserInfo.name = 'Firefox';
                    browserInfo.version = ua.match(/Firefox\/([0-9.]+)/)?.[1] || 'Unknown';
                    browserInfo.engine = 'Gecko';
                } else if (ua.includes('Safari') && !ua.includes('Chrome')) {
                    browserInfo.name = 'Safari';
                    browserInfo.version = ua.match(/Version\/([0-9.]+)/)?.[1] || 'Unknown';
                    browserInfo.engine = 'WebKit';
                } else if (ua.includes('Edge')) {
                    browserInfo.name = 'Edge';
                    browserInfo.version = ua.match(/Edge\/([0-9.]+)/)?.[1] || 
                                         ua.match(/Edg\/([0-9.]+)/)?.[1] || 'Unknown';
                    browserInfo.engine = 'Blink';
                } else if (ua.includes('OPR') || ua.includes('Opera')) {
                    browserInfo.name = 'Opera';
                    browserInfo.version = ua.match(/OPR\/([0-9.]+)/)?.[1] || 
                                         ua.match(/Opera\/([0-9.]+)/)?.[1] || 'Unknown';
                    browserInfo.engine = 'Blink';
                }
                
                // æª¢æ¸¬ç§»å‹•è£ç½®
                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua)) {
                    browserInfo.mobile = true;
                    if (ua.includes('iPhone') || ua.includes('iPad')) {
                        browserInfo.platform = 'iOS';
                    } else if (ua.includes('Android')) {
                        browserInfo.platform = 'Android';
                    }
                } else {
                    browserInfo.mobile = false;
                }
                
                this.browserInfo = browserInfo;
                this.displayBrowserInfo();
                return browserInfo;
            }
            
            // é¡¯ç¤ºç€è¦½å™¨è³‡è¨Š
            displayBrowserInfo() {
                const container = document.getElementById('currentBrowserInfo');
                const info = this.browserInfo;
                
                const supportClass = this.getBrowserSupportClass(info.name, info.version);
                
                container.innerHTML = `
                    <div class="browser-card ${supportClass}">
                        <h3>${info.name} ${info.version}</h3>
                        <p><strong>å¼•æ“:</strong> ${info.engine}</p>
                        <p><strong>å¹³å°:</strong> ${info.platform}</p>
                        <p><strong>èªè¨€:</strong> ${info.language}</p>
                        <p><strong>ç§»å‹•è£ç½®:</strong> ${info.mobile ? 'æ˜¯' : 'å¦'}</p>
                        <p><strong>ç·šä¸Šç‹€æ…‹:</strong> ${info.onLine ? 'å·²é€£ç·š' : 'é›¢ç·š'}</p>
                    </div>
                `;
            }
            
            // å–å¾—ç€è¦½å™¨æ”¯æ´ç­‰ç´š
            getBrowserSupportClass(name, version) {
                const versionNum = parseFloat(version);
                
                switch (name) {
                    case 'Chrome':
                        return versionNum >= 88 ? 'browser-supported' : 'browser-unsupported';
                    case 'Firefox':
                        return versionNum >= 85 ? 'browser-supported' : 'browser-unsupported';
                    case 'Safari':
                        return versionNum >= 14 ? 'browser-partial' : 'browser-unsupported';
                    case 'Edge':
                        return versionNum >= 88 ? 'browser-supported' : 'browser-unsupported';
                    case 'Opera':
                        return versionNum >= 74 ? 'browser-supported' : 'browser-unsupported';
                    default:
                        return 'browser-unsupported';
                }
            }
            
            // åŸ·è¡Œç›¸å®¹æ€§æ¸¬è©¦
            runCompatibilityTests() {
                console.log('ğŸ§ª é–‹å§‹åŸ·è¡Œç›¸å®¹æ€§æ¸¬è©¦...');
                
                this.detectBrowser();
                this.testCSSFeatures();
                this.testJavaScriptAPIs();
                this.testWebFeatures();
                this.displayTestResults();
            }
            
            // æ¸¬è©¦ CSS åŠŸèƒ½
            testCSSFeatures() {
                const cssTests = [
                    { name: 'CSS Grid', test: () => CSS.supports('display', 'grid') },
                    { name: 'CSS Flexbox', test: () => CSS.supports('display', 'flex') },
                    { name: 'CSS Custom Properties', test: () => CSS.supports('--custom-property', 'value') },
                    { name: 'CSS Transform', test: () => CSS.supports('transform', 'translateX(10px)') },
                    { name: 'CSS Transition', test: () => CSS.supports('transition', 'all 0.3s ease') },
                    { name: 'CSS Animation', test: () => CSS.supports('animation', 'test 1s linear') },
                    { name: 'CSS Filter', test: () => CSS.supports('filter', 'blur(10px)') },
                    { name: 'CSS Backdrop Filter', test: () => CSS.supports('backdrop-filter', 'blur(10px)') },
                    { name: 'CSS Clip Path', test: () => CSS.supports('clip-path', 'circle(50%)') },
                    { name: 'CSS Object Fit', test: () => CSS.supports('object-fit', 'cover') },
                    { name: 'CSS Position Sticky', test: () => CSS.supports('position', 'sticky') },
                    { name: 'CSS Aspect Ratio', test: () => CSS.supports('aspect-ratio', '16/9') }
                ];
                
                const container = document.getElementById('cssTests');
                container.innerHTML = '';
                
                cssTests.forEach(test => {
                    const supported = test.test();
                    const statusClass = supported ? 'supported' : 'unsupported';
                    const statusText = supported ? 'âœ… æ”¯æ´' : 'âŒ ä¸æ”¯æ´';
                    const fallback = this.getCSSFallback(test.name);
                    
                    container.innerHTML += `
                        <div class="feature-test">
                            <div class="feature-name">${test.name}</div>
                            <div class="feature-status ${statusClass}">${statusText}</div>
                            <div class="fallback-info">${fallback}</div>
                        </div>
                    `;
                    
                    this.testResults[test.name] = supported;
                });
            }
            
            // æ¸¬è©¦ JavaScript API
            testJavaScriptAPIs() {
                const jsTests = [
                    { name: 'Fetch API', test: () => 'fetch' in window },
                    { name: 'Promise', test: () => 'Promise' in window },
                    { name: 'LocalStorage', test: () => 'localStorage' in window },
                    { name: 'SessionStorage', test: () => 'sessionStorage' in window },
                    { name: 'WebSocket', test: () => 'WebSocket' in window },
                    { name: 'Service Worker', test: () => 'serviceWorker' in navigator },
                    { name: 'Intersection Observer', test: () => 'IntersectionObserver' in window },
                    { name: 'Performance Observer', test: () => 'PerformanceObserver' in window },
                    { name: 'Web Components', test: () => 'customElements' in window },
                    { name: 'ES6 Modules', test: () => 'noModule' in document.createElement('script') },
                    { name: 'Async/Await', test: () => {
                        try {
                            eval('(async function() {})');
                            return true;
                        } catch (e) {
                            return false;
                        }
                    }},
                    { name: 'Arrow Functions', test: () => {
                        try {
                            eval('(() => {})');
                            return true;
                        } catch (e) {
                            return false;
                        }
                    }}
                ];
                
                const container = document.getElementById('jsApiTests');
                container.innerHTML = '';
                
                jsTests.forEach(test => {
                    const supported = test.test();
                    const statusClass = supported ? 'supported' : 'unsupported';
                    const statusText = supported ? 'âœ… æ”¯æ´' : 'âŒ ä¸æ”¯æ´';
                    const fallback = this.getJSFallback(test.name);
                    
                    container.innerHTML += `
                        <div class="feature-test">
                            <div class="feature-name">${test.name}</div>
                            <div class="feature-status ${statusClass}">${statusText}</div>
                            <div class="fallback-info">${fallback}</div>
                        </div>
                    `;
                    
                    this.testResults[test.name] = supported;
                });
            }
            
            // æ¸¬è©¦ Web åŠŸèƒ½
            testWebFeatures() {
                const webTests = [
                    { name: 'Touch Events', test: () => 'ontouchstart' in window },
                    { name: 'Pointer Events', test: () => 'onpointerdown' in window },
                    { name: 'Device Motion', test: () => 'DeviceMotionEvent' in window },
                    { name: 'Device Orientation', test: () => 'DeviceOrientationEvent' in window },
                    { name: 'Geolocation', test: () => 'geolocation' in navigator },
                    { name: 'Notifications', test: () => 'Notification' in window },
                    { name: 'Vibration', test: () => 'vibrate' in navigator },
                    { name: 'Battery API', test: () => 'getBattery' in navigator },
                    { name: 'Network Information', test: () => 'connection' in navigator },
                    { name: 'Clipboard API', test: () => 'clipboard' in navigator }
                ];
                
                const container = document.getElementById('featureTests');
                container.innerHTML = '';
                
                webTests.forEach(test => {
                    const supported = test.test();
                    const statusClass = supported ? 'supported' : 'unsupported';
                    const statusText = supported ? 'âœ… æ”¯æ´' : 'âŒ ä¸æ”¯æ´';
                    const fallback = this.getWebFeatureFallback(test.name);
                    
                    container.innerHTML += `
                        <div class="feature-test">
                            <div class="feature-name">${test.name}</div>
                            <div class="feature-status ${statusClass}">${statusText}</div>
                            <div class="fallback-info">${fallback}</div>
                        </div>
                    `;
                    
                    this.testResults[test.name] = supported;
                });
            }
            
            // å–å¾— CSS åŠŸèƒ½çš„é™ç´šæ–¹æ¡ˆ
            getCSSFallback(feature) {
                const fallbacks = {
                    'CSS Grid': 'Flexbox ä½ˆå±€',
                    'CSS Backdrop Filter': 'åŠé€æ˜èƒŒæ™¯',
                    'CSS Custom Properties': 'Sass è®Šæ•¸',
                    'CSS Clip Path': 'åœ“è§’é‚Šæ¡†',
                    'CSS Aspect Ratio': 'å›ºå®šé«˜åº¦',
                    'CSS Position Sticky': 'å›ºå®šå®šä½'
                };
                return fallbacks[feature] || 'ç„¡é™ç´šæ–¹æ¡ˆ';
            }
            
            // å–å¾— JavaScript API çš„é™ç´šæ–¹æ¡ˆ
            getJSFallback(feature) {
                const fallbacks = {
                    'Fetch API': 'XMLHttpRequest',
                    'Promise': 'Callback',
                    'Service Worker': 'Application Cache',
                    'Intersection Observer': 'Scroll äº‹ä»¶',
                    'Web Components': 'åŸç”Ÿ DOM æ“ä½œ',
                    'Async/Await': 'Promise.then()'
                };
                return fallbacks[feature] || 'Polyfill æˆ–ç§»é™¤åŠŸèƒ½';
            }
            
            // å–å¾— Web åŠŸèƒ½çš„é™ç´šæ–¹æ¡ˆ
            getWebFeatureFallback(feature) {
                const fallbacks = {
                    'Touch Events': 'æ»‘é¼ äº‹ä»¶',
                    'Geolocation': 'æ‰‹å‹•è¼¸å…¥ä½ç½®',
                    'Notifications': 'é é¢å…§é€šçŸ¥',
                    'Vibration': 'è¦–è¦ºå›é¥‹',
                    'Battery API': 'éš±è—é›»æ± è³‡è¨Š',
                    'Clipboard API': 'æ‰‹å‹•è¤‡è£½'
                };
                return fallbacks[feature] || 'åŠŸèƒ½ä¸å¯ç”¨';
            }
            
            // é¡¯ç¤ºæ¸¬è©¦çµæœ
            displayTestResults() {
                const container = document.getElementById('testResults');
                const total = Object.keys(this.testResults).length;
                const supported = Object.values(this.testResults).filter(Boolean).length;
                const percentage = Math.round((supported / total) * 100);
                
                let resultClass = 'supported';
                if (percentage < 70) resultClass = 'unsupported';
                else if (percentage < 90) resultClass = 'partial';
                
                container.innerHTML = `
                    <div class="feature-test">
                        <div class="feature-name"><strong>æ•´é«”ç›¸å®¹æ€§</strong></div>
                        <div class="feature-status ${resultClass}">${percentage}% (${supported}/${total})</div>
                        <div class="fallback-info">
                            ${percentage >= 90 ? 'å„ªç§€çš„ç›¸å®¹æ€§' : 
                              percentage >= 70 ? 'è‰¯å¥½çš„ç›¸å®¹æ€§ï¼Œéœ€è¦éƒ¨åˆ†é™ç´š' : 
                              'ç›¸å®¹æ€§è¼ƒå·®ï¼Œéœ€è¦å¤§é‡é™ç´šæ–¹æ¡ˆ'}
                        </div>
                    </div>
                    
                    <h3>å»ºè­°äº‹é …ï¼š</h3>
                    <ul>
                        ${percentage < 100 ? '<li>å»ºè­°å‡ç´šåˆ°æœ€æ–°ç‰ˆæœ¬çš„ç¾ä»£ç€è¦½å™¨</li>' : ''}
                        ${!this.testResults['Service Worker'] ? '<li>ç„¡æ³•ä½¿ç”¨é›¢ç·šåŠŸèƒ½</li>' : ''}
                        ${!this.testResults['CSS Backdrop Filter'] ? '<li>æ¯›ç»ç’ƒæ•ˆæœå°‡ä½¿ç”¨é™ç´šæ¨£å¼</li>' : ''}
                        ${!this.testResults['Intersection Observer'] ? '<li>æ»¾å‹•æ•ˆæœå°‡ä½¿ç”¨ scroll äº‹ä»¶</li>' : ''}
                        ${!this.testResults['Touch Events'] && this.browserInfo.mobile ? '<li>è§¸æ§é«”é©—å¯èƒ½å—é™</li>' : ''}
                    </ul>
                `;
                
                console.log('ğŸ“Š ç›¸å®¹æ€§æ¸¬è©¦å®Œæˆ:', {
                    browser: this.browserInfo,
                    compatibility: percentage,
                    results: this.testResults
                });
            }
        }
        
        // åˆå§‹åŒ–æ¸¬è©¦å™¨
        const compatibilityTester = new BrowserCompatibilityTester();
        
        // å…¨åŸŸå‡½æ•¸
        function detectBrowser() {
            compatibilityTester.detectBrowser();
        }
        
        function runCompatibilityTests() {
            compatibilityTester.runCompatibilityTests();
        }
        
        // é é¢è¼‰å…¥æ™‚è‡ªå‹•æª¢æ¸¬
        window.addEventListener('load', () => {
            detectBrowser();
            console.log('ğŸŒ ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦é é¢å·²è¼‰å…¥');
        });
    </script>
</body>
</html>